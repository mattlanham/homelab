apiVersion: v1
kind: ConfigMap
metadata:
  name: homeassistant-config
  namespace: homeassistant
data:
  configuration.yaml: |
    # HTTP Configuration
    http:
      use_x_forwarded_for: true
      trusted_proxies:
        - 10.42.2.39
        - 10.42.1.10
        - 10.42.2.29
        - 192.168.1.0/24

    # Evohome Integration
    evohome:
      username: !secret evohome_username
      password: !secret evohome_password
      location_idx: 0  # Optional, defaults to 0.
      scan_interval: 300  # Optional, defaults to 300 seconds.

    # Load secrets from secrets.yaml
    secrets: !include secrets.yaml 