apiVersion: v1
kind: ConfigMap
metadata:
  name: homeassistant-config
  namespace: homeassistant
data:
  configuration.yaml: |
    http:
      use_x_forwarded_for: true
      trusted_proxies:
        - 10.42.4.19
        - 10.42.1.10
        - 10.42.4.8
        - 10.42.4.11
        - 10.42.4.13
        - 127.0.0.1
        - ::1
        - 192.168.1.0/24
      x_forwarded_for_headers:
        - X-Forwarded-For
        - X-Real-IP
        - X-Forwarded-Proto
        - Forwarded
      ip_ban_enabled: true
      login_attempts_threshold: 5
      server_host: 0.0.0.0
      server_port: 8123
      cors_allowed_origins:
        - "https://home-assistant.local"
        - "https://homeassistant.lanham.ai"

    evohome:
      username: !secret evohome_username
      password: !secret evohome_password
      location_idx: 0  # Optional, defaults to 0.
      scan_interval: 300  # Optional, defaults to 300 seconds.

    secrets: !include secrets.yaml